#!/usr/bin/env python3
"""
Extrai a sequência de inicialização do microcontrolador que funciona.
Formato: 0x00/0xD1 significa D/C=0 (comando), dado=0xD1
         0x01/0x50 seria D/C=1 (dado), dado=0x50
"""

import re

# Dados fornecidos pelo usuário
raw_data = """
0x00/0xD1 0x00/0x50 0x00/0xB0 0x00/0x00 0x00/0x2A 0x00/0x58 0x00/0x5C 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x01 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x2B 0x00/0xD0 0x00/0x2C 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0xAF 0x00/0x40 0x00/0xB2 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0xD0 0x00/0x2C 0x00/0xC4 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x68 0x00/0x20 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x15 0x00/0xF4 0x00/0x00 0x01/0xA5 0x01/0xE8 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x0A 0x00/0x05 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x05 0x00/0x98 0x00/0x80 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x15 0x00/0xE9 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x05 0x00/0x7A 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x57 0x00/0x8B 0x00/0x21 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0xCC 0x00/0x40 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x05 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0xE8 0x00/0x16 0x00/0xA2 0x00/0x00 0x00/0x22 0x00/0x4F 0x00/0x80 0x00/0x00 0x00/0xE2 0x00/0x02 0x00/0x01 0x00/0x00 0x00/0xA2 0x00/0xA3 0x00/0xC0 0x00/0x00 0x00/0x84 0x00/0x44 0x00/0x44 0x00/0x00 0x00/0x80 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0xA2 0x00/0xA1 0x00/0xC0 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x0A 0x00/0xF4 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x2C 0x00/0x84 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x40 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x15 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x01 0x00/0x21 0x00/0x00 0x01/0x4A 0x01/0x4A 0x01/0x47 0x00/0x00 0x01/0x04 0x01/0x0A 0x01/0x83 0x00/0x00 0x01/0x81 0x00/0x00 0x01/0x07 0x00/0x00 0x01/0x8A 0x01/0x8A 0x01/0x83 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x00 0x00/0x04 0x00/0x96
"""

# Parse entries no formato 0xDC/0xDATA
pattern = re.compile(r'0x([0-9A-Fa-f]{2})/0x([0-9A-Fa-f]{2})')
matches = pattern.findall(raw_data)

print(f"Total de bytes encontrados: {len(matches)}")
print()

# Separar comandos (DC=0) e dados (DC=1)
commands = []
data = []

for dc, byte_val in matches:
    dc_int = int(dc, 16)
    byte_int = int(byte_val, 16)
    
    if dc_int == 0x00:
        commands.append(byte_int)
    else:  # DC=0x01
        data.append(byte_int)

print(f"Total de COMANDOS (D/C=0): {len(commands)}")
print(f"Total de DADOS (D/C=1): {len(data)}")
print()

# Extrair sequência de inicialização (primeiros comandos antes de grandes blocos de dados)
print("=" * 70)
print("SEQUÊNCIA DE INICIALIZAÇÃO (primeiros comandos)")
print("=" * 70)

# Pegar os primeiros 50 comandos únicos e consecutivos
init_commands = []
for i, cmd in enumerate(commands):
    if i < 50 and (cmd != 0x00 or i == 0):  # Ignorar múltiplos zeros
        init_commands.append(cmd)

# Formatar para C array
print("\nEm formato C (para copiar no código):")
print("static const uint8_t INIT_SEQUENCE[] = {")
for i in range(0, len(init_commands), 12):
    chunk = init_commands[i:i+12]
    hex_str = ", ".join([f"0x{b:02X}" for b in chunk])
    print(f"  {hex_str},")
print("};")
print()

# Mostrar interpretação de comandos conhecidos
print("\nInterpretação dos comandos:")
print("-" * 70)
for i, cmd in enumerate(init_commands[:30]):  # Primeiros 30
    interpretation = ""
    if cmd == 0xAF: interpretation = "Display ON"
    elif cmd == 0xAE: interpretation = "Display OFF"
    elif cmd == 0xA0 or cmd == 0xA1: interpretation = f"ADC Select (segment remap)"
    elif cmd == 0xA2 or cmd == 0xA3: interpretation = f"LCD Bias"
    elif cmd == 0xA4: interpretation = "All pixels normal"
    elif cmd == 0xA5: interpretation = "All pixels ON"
    elif cmd == 0xA6: interpretation = "Normal display"
    elif cmd == 0xA7: interpretation = "Inverse display"
    elif (cmd & 0xF0) == 0xB0: interpretation = f"Set Page Address: {cmd & 0x0F}"
    elif (cmd & 0xF0) == 0x10: interpretation = f"Set Column MSB: {cmd & 0x0F}"
    elif (cmd & 0xF0) == 0x00: interpretation = f"Set Column LSB: {cmd & 0x0F}"
    elif cmd == 0xC0 or cmd == 0xC8: interpretation = "COM output scan direction"
    elif (cmd & 0xF8) == 0x20: interpretation = f"Regulate resistor ratio: {cmd & 0x07}"
    elif cmd == 0x2C or cmd == 0x2D or cmd == 0x2E or cmd == 0x2F: 
        interpretation = f"Power control: {cmd & 0x03}"
    elif (cmd & 0xFE) == 0x40: interpretation = f"Display start line: {cmd & 0x3F}"
    elif cmd == 0x81: interpretation = "Set contrast (next byte is value)"
    elif cmd == 0xE2: interpretation = "System reset"
    elif cmd == 0xE8 or cmd == 0x16: interpretation = "Booster control"
    
    print(f"  [{i:2d}] 0x{cmd:02X}  {interpretation}")

print()
print("=" * 70)
print("DADOS transmitidos (primeiros 20 bytes):")
print("=" * 70)
if data:
    print(" ".join([f"0x{b:02X}" for b in data[:20]]))
else:
    print("Nenhum dado com D/C=1 encontrado ainda na sequência.")
